<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>üß† –°–æ–∫—Ä–∞—Ç–∏—Ç–µ–ª—å —Ç–µ–∫—Å—Ç–∞</title>
  <style>
    body { font-family: sans-serif; padding: 2em; max-width: 800px; margin: auto; }
    textarea, input, button { width: 100%; margin-top: 1em; padding: 0.5em; font-size: 1em; }
    ul { margin-top: 1em; }
  </style>
</head>
<body>
  <h1>üß† –°–æ–∫—Ä–∞—Ç–∏—Ç–µ–ª—å —Ç–µ–∫—Å—Ç–∞</h1>
  <textarea id="text" rows="10" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç..."></textarea>
  <input type="text" id="filename" placeholder="–ò–º—è —Ñ–∞–π–ª–∞ (–±–µ–∑ .docx)">
  <button onclick="compress()">–°–∂–∞—Ç—å –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>

  <h2>üìÑ –°–æ–∫—Ä–∞—â—ë–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç:</h2>
  <ul id="output"></ul>

  <script>
    async function compress() {
      const text = document.getElementById('text').value;
      const filename = document.getElementById('filename').value || 'summary';

      const res = await fetch('/api/compress', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ text, filename })
      });

      const data = await res.json();
      const list = document.getElementById('output');
      list.innerHTML = '';
      data.summary.forEach(line => {
        const li = document.createElement('li');
        li.textContent = line;
        list.appendChild(li);
      });

      alert("‚úÖ –î–æ–∫—É–º–µ–Ω—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω: " + data.file);
    }
  </script>
</body>
</html>
